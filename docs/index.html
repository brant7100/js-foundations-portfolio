<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>í•™ìŠµ í¬íŠ¸í´ë¦¬ì˜¤</title>
  <style>
    :root {
      --bg: #0b0b0c;
      --panel: #15161a;
      --text: #e7e9ea;
      --muted: #9aa0a6;
      --accent: #5da8ff;
    }
    * { box-sizing: border-box; }
    body { margin: 0; background: var(--bg); color: var(--text); font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Noto Sans KR, sans-serif; }
    .wrap { display: grid; grid-template-columns: 320px 1fr; min-height: 100vh; }
    aside { background: var(--panel); padding: 20px; border-right: 1px solid #22252b; }
    main { padding: 24px; }
    h1 { margin: 0 0 12px; font-size: 20px; }
    .muted { color: var(--muted); font-size: 12px; }
    ul { list-style: none; padding: 0; margin: 12px 0 0; }
    li { padding: 10px; border-radius: 8px; cursor: pointer; border: 1px solid #262a32; margin-bottom: 8px; }
    li:hover { background: #0f1115; }
    .tag { display: inline-block; font-size: 11px; padding: 2px 6px; border: 1px solid #2b3038; border-radius: 999px; margin-right: 4px; color: var(--muted); }
    .content { max-width: 900px; line-height: 1.6; }
    .content h1, .content h2, .content h3 { color: #fff; }
    .content code { background: #0f1115; padding: 2px 6px; border-radius: 4px; }
    .content pre { background: #0f1115; padding: 12px; border-radius: 8px; overflow: auto; }
    a { color: var(--accent); text-decoration: none; }
    a:hover { text-decoration: underline; }
    .header { display:flex; align-items:center; justify-content:space-between; margin-bottom: 16px; }
    .brand { font-weight: 700; letter-spacing: .3px; }
  </style>
</head>
<body>
  <div class="wrap">
    <aside>
      <div class="header">
        <div class="brand">JS í•™ìŠµ í¬íŠ¸í´ë¦¬ì˜¤</div>
      </div>
      <div class="muted">logs.jsonì˜ í•­ëª©ì„ í´ë¦­í•˜ë©´ ìš°ì¸¡ì— ë‚´ìš©ì´ í‘œì‹œë©ë‹ˆë‹¤.</div>
      <ul id="log-list"></ul>
    </aside>
    <main>
      <div class="content" id="viewer">
        <h2>í™˜ì˜ ğŸ‘‹</h2>
        <p>ì™¼ìª½ ëª©ë¡ì—ì„œ í•™ìŠµ ë¡œê·¸ë¥¼ ì„ íƒí•˜ì„¸ìš”.<br/>ìƒˆ ë¡œê·¸ëŠ” <code>docs/logs</code>ì— ë§ˆí¬ë‹¤ìš´ìœ¼ë¡œ ì¶”ê°€í•˜ê³  <code>docs/logs.json</code>ì— ë“±ë¡í•©ë‹ˆë‹¤.</p>
      </div>
    </main>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script>
  async function loadList() {
    try {
      const res = await fetch('./logs.json?_=' + Date.now());
      const data = await res.json();
      console.log("ğŸ“‚ logs.json ë°ì´í„°:", data);

      const ul = document.getElementById('log-list');
      ul.innerHTML = '';

      if (!data.items) {
        ul.innerHTML = '<li>âš ï¸ logs.jsonì— itemsê°€ ì—†ìŠµë‹ˆë‹¤.</li>';
        return;
      }

      data.items
        .sort((a,b) => (a.date < b.date ? 1 : -1))
        .forEach(item => {
          const li = document.createElement('li');
          li.innerHTML = `
            <div style="display:flex;justify-content:space-between;align-items:center;">
              <div>
                <div style="font-weight:600;">${item.title}</div>
                <div class="muted">${item.date}</div>
              </div>
              <div>
                ${(item.tags||[]).map(t => '<span class="tag">'+t+'</span>').join('')}
              </div>
            </div>`;
          li.addEventListener('click', () => loadMarkdown(item.path));
          ul.appendChild(li);
        });
    } catch (e) {
      console.error(e);
      document.getElementById('viewer').innerHTML = '<p>logs.jsonì„ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. íŒŒì¼ ê²½ë¡œë¥¼ í™•ì¸í•˜ì„¸ìš”.</p>';
    }
  }
</script>

</body>
</html>
